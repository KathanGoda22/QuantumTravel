{"ast":null,"code":"import _regeneratorRuntime from\"E:/Software Development Projects/Quantum Travel Website/tour-management/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Software Development Projects/Quantum Travel Website/tour-management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"E:/Software Development Projects/Quantum Travel Website/tour-management/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/Software Development Projects/Quantum Travel Website/tour-management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/Software Development Projects/Quantum Travel Website/tour-management/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect,useRef}from\"react\";import\"./login.css\";import{Container,Row,Col,FormGroup,Button,Form}from\"reactstrap\";import{Link,useNavigate}from\"react-router-dom\";import registerImg from\"../assets/images/register.png\";import userIcon from\"../assets/images/user.png\";import{ThemeContext}from\"../shared/Theme\";import{motion,useAnimation,useInView}from\"framer-motion\";import{AuthContext}from\"../context/AuthContext\";import{BASE_URL}from\"../utils/config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useContext=useContext(ThemeContext),theme=_useContext.theme;var controls=useAnimation();var elementRef=useRef(null);var isInView=useInView(elementRef,{once:true});useEffect(function(){if(isInView){controls.start(\"visible\");}},[isInView,controls]);var _useState=useState({username:undefined,email:undefined,password:undefined}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var _useContext2=useContext(AuthContext),dispatch=_useContext2.dispatch;var navigate=useNavigate();var handleChange=function handleChange(e){setCredentials(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},e.target.id,e.target.value));});};var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fetch(\"\".concat(BASE_URL,\"/auth/register\"),{method:\"post\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(credentials)});case 4:res=_context.sent;_context.next=7;return res.json();case 7:result=_context.sent;if(!res.ok)alert(result.message);dispatch({type:\"REGISTER_SUCCESS\"});navigate(\"/login\");_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);alert(_context.t0.message);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function handleClick(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:theme===\"light\"?\"dark-theme\":\"light-theme\",ref:elementRef,style:{position:\"relative\"},children:/*#__PURE__*/_jsx(motion.section,{variants:{hidden:{opacity:0,y:75},visible:{opacity:1,y:0}},initial:\"hidden\",animate:controls,transition:{duration:1.5,delay:0.9},children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login_container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login_img\",children:/*#__PURE__*/_jsx(\"img\",{src:registerImg,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user\",children:/*#__PURE__*/_jsx(\"img\",{src:userIcon,alt:\"\"})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleClick,children:[/*#__PURE__*/_jsxs(FormGroup,{className:\"login_input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"username\",required:true,id:\"username\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",required:true,id:\"email\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",required:true,id:\"password\",onChange:handleChange})]}),/*#__PURE__*/_jsx(Button,{className:\"btn secondary_btn auth_btn\",type:\"submit\",children:\"Create Account\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already Have An Account? \",/*#__PURE__*/_jsx(Link,{to:\"/Login\",children:\"Login\"})]})]})]})})})})})});};export default Register;","map":{"version":3,"names":["React","useContext","useState","useEffect","useRef","Container","Row","Col","FormGroup","Button","Form","Link","useNavigate","registerImg","userIcon","ThemeContext","motion","useAnimation","useInView","AuthContext","BASE_URL","Register","theme","controls","elementRef","isInView","once","start","username","undefined","email","password","credentials","setCredentials","dispatch","navigate","handleChange","e","prev","target","id","value","handleClick","preventDefault","fetch","method","headers","body","JSON","stringify","res","json","result","ok","alert","message","type","position","hidden","opacity","y","visible","duration","delay"],"sources":["E:/Software Development Projects/Quantum Travel Website/tour-management/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useContext, useState, useEffect, useRef } from \"react\";\r\nimport \"./login.css\";\r\nimport { Container, Row, Col, FormGroup, Button, Form } from \"reactstrap\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport registerImg from \"../assets/images/register.png\";\r\nimport userIcon from \"../assets/images/user.png\";\r\nimport { ThemeContext } from \"../shared/Theme\";\r\nimport { motion, useAnimation, useInView } from \"framer-motion\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { BASE_URL } from \"../utils/config\";\r\n\r\nconst Register = () => {\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  const controls = useAnimation();\r\n  const elementRef = useRef(null);\r\n  const isInView = useInView(elementRef, { once: true });\r\n\r\n  useEffect(() => {\r\n    if (isInView) {\r\n      controls.start(\"visible\");\r\n    }\r\n  }, [isInView, controls]);\r\n\r\n  const [credentials, setCredentials] = useState({\r\n    username: undefined,\r\n    email: undefined,\r\n    password: undefined,\r\n  });\r\n\r\n  const { dispatch } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setCredentials((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n  };\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const res = await fetch(`${BASE_URL}/auth/register`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(credentials),\r\n      });\r\n      const result = await res.json();\r\n\r\n      if (!res.ok) alert(result.message);\r\n\r\n      dispatch({ type: \"REGISTER_SUCCESS\" });\r\n      \r\n      navigate(\"/login\");\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={theme === \"light\" ? \"dark-theme\" : \"light-theme\"}\r\n      ref={elementRef}\r\n      style={{ position: \"relative\" }}\r\n    >\r\n      <motion.section\r\n        variants={{\r\n          hidden: { opacity: 0, y: 75 },\r\n          visible: { opacity: 1, y: 0 },\r\n        }}\r\n        initial=\"hidden\"\r\n        animate={controls}\r\n        transition={{ duration: 1.5, delay: 0.9 }}\r\n      >\r\n        <Container>\r\n          <Row>\r\n            <Col lg=\"9\">\r\n              <div className=\"login_container d-flex justify-content-between\">\r\n                <div className=\"login_img\">\r\n                  <img src={registerImg} alt=\"\" />\r\n                </div>\r\n                <div className=\"login_form\">\r\n                  <div className=\"user\">\r\n                    <img src={userIcon} alt=\"\" />\r\n                  </div>\r\n                  <h2>Register</h2>\r\n\r\n                  <Form onSubmit={handleClick}>\r\n                    <FormGroup className=\"login_input\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"username\"\r\n                        required\r\n                        id=\"username\"\r\n                        onChange={handleChange}\r\n                      />\r\n                      <input\r\n                        type=\"email\"\r\n                        placeholder=\"email\"\r\n                        required\r\n                        id=\"email\"\r\n                        onChange={handleChange}\r\n                      />\r\n                      <input\r\n                        type=\"password\"\r\n                        placeholder=\"password\"\r\n                        required\r\n                        id=\"password\"\r\n                        onChange={handleChange}\r\n                      />\r\n                    </FormGroup>\r\n                    <Button\r\n                      className=\"btn secondary_btn auth_btn\"\r\n                      type=\"submit\"\r\n                    >\r\n                      Create Account\r\n                    </Button>\r\n                  </Form>\r\n                  <p>\r\n                    Already Have An Account? <Link to=\"/Login\">Login</Link>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </motion.section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}