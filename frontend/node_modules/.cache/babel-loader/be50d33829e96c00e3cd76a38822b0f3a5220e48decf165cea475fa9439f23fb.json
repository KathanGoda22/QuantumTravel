{"ast":null,"code":"import _slicedToArray from\"E:/Software Development Projects/Quantum Travel Website/tour-management/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import{motion}from\"framer-motion\";import{Link}from\"react-router-dom\";import{Button}from\"reactstrap\";import\"./tourscard.css\";import{ThemeContext}from\"../shared/Theme\";import calculateAvgRating from\"../utils/avgRating\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ToursCard=function ToursCard(_ref){var tour=_ref.tour;var _id=tour._id,title=tour.title,country=tour.country,photo=tour.photo,price=tour.price,reviews=tour.reviews;var _calculateAvgRating=calculateAvgRating(reviews),totalRating=_calculateAvgRating.totalRating,avgRating=_calculateAvgRating.avgRating;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useContext=useContext(ThemeContext),theme=_useContext.theme;return/*#__PURE__*/_jsx(\"div\",{className:theme===\"light\"?\"dark-theme\":\"light-theme\",children:/*#__PURE__*/_jsxs(motion.div,{transition:{layout:{duration:1,type:\"spring\"}},layout:true,onClick:function onClick(){return setIsOpen(!isOpen);},className:\"card\",children:[/*#__PURE__*/_jsx(motion.img,{layout:\"position\",src:photo,alt:\"\"}),isOpen&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},exit:{opacity:0},className:\"expand\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tour_city\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-map-pin-line city\"}),\" \",country]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour_rating\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-star-fill\"}),avgRating===0?null:avgRating,totalRating===0?\"not rated\":/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",reviews===null||reviews===void 0?void 0:reviews.length,\")\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour_price\",children:[/*#__PURE__*/_jsx(Link,{to:\"/tours/\".concat(_id),children:title}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",price,\"/per person\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{className:\"booking_btn\",children:/*#__PURE__*/_jsx(Link,{to:\"/tours/\".concat(_id),children:\"Book Now\"})})]})]})]})});};export default ToursCard;","map":{"version":3,"names":["React","useState","useContext","motion","Link","Button","ThemeContext","calculateAvgRating","ToursCard","tour","_id","title","country","photo","price","reviews","totalRating","avgRating","isOpen","setIsOpen","theme","layout","duration","type","opacity","length"],"sources":["E:/Software Development Projects/Quantum Travel Website/tour-management/frontend/src/shared/ToursCard.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport \"./tourscard.css\";\r\nimport { ThemeContext } from \"../shared/Theme\";\r\nimport calculateAvgRating from \"../utils/avgRating\";\r\n\r\nconst ToursCard = ({ tour }) => {\r\n  const { _id, title, country, photo, price, reviews } = tour;\r\n  const { totalRating, avgRating } = calculateAvgRating(reviews);\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  return (\r\n    <div className={theme === \"light\" ? \"dark-theme\" : \"light-theme\"}>\r\n      <motion.div\r\n        transition={{ layout: { duration: 1, type: \"spring\" } }}\r\n        layout\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"card\"\r\n      >\r\n        <motion.img layout=\"position\" src={photo} alt=\"\" />\r\n        {isOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            transition={{ duration: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"expand\"\r\n          >\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div className=\"tour_city\">\r\n                <i className=\"ri-map-pin-line city\"></i> {country}\r\n              </div>\r\n              <div className=\"tour_rating\">\r\n                <i className=\"ri-star-fill\"></i>\r\n                {avgRating === 0 ? null : avgRating}\r\n                {totalRating === 0 ? (\r\n                  \"not rated\"\r\n                ) : (\r\n                  <span>({reviews?.length})</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"tour_price\">\r\n              <Link to={`/tours/${_id}`}>{title}</Link>\r\n              <br />\r\n              <span>${price}/per person</span>\r\n              <br />\r\n              <Button className=\"booking_btn\">\r\n                <Link to={`/tours/${_id}`}>Book Now</Link>\r\n              </Button>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToursCard;\r\n"],"mappings":"sKAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,OAASC,MAAM,KAAQ,eAAe,CACtC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,MAAM,KAAQ,YAAY,CACnC,MAAO,iBAAiB,CACxB,OAASC,YAAY,KAAQ,iBAAiB,CAC9C,MAAOC,mBAAkB,KAAM,oBAAoB,CAAC,wFAEpD,GAAMC,UAAS,CAAG,QAAZA,UAAS,MAAiB,IAAXC,KAAI,MAAJA,IAAI,CACvB,GAAQC,IAAG,CAA4CD,IAAI,CAAnDC,GAAG,CAAEC,KAAK,CAAqCF,IAAI,CAA9CE,KAAK,CAAEC,OAAO,CAA4BH,IAAI,CAAvCG,OAAO,CAAEC,KAAK,CAAqBJ,IAAI,CAA9BI,KAAK,CAAEC,KAAK,CAAcL,IAAI,CAAvBK,KAAK,CAAEC,OAAO,CAAKN,IAAI,CAAhBM,OAAO,CAClD,wBAAmCR,kBAAkB,CAACQ,OAAO,CAAC,CAAtDC,WAAW,qBAAXA,WAAW,CAAEC,SAAS,qBAATA,SAAS,CAE9B,cAA4BhB,QAAQ,CAAC,KAAK,CAAC,wCAApCiB,MAAM,eAAEC,SAAS,eACxB,gBAAkBjB,UAAU,CAACI,YAAY,CAAC,CAAlCc,KAAK,aAALA,KAAK,CAEb,mBACE,YAAK,SAAS,CAAEA,KAAK,GAAK,OAAO,CAAG,YAAY,CAAG,aAAc,uBAC/D,MAAC,MAAM,CAAC,GAAG,EACT,UAAU,CAAE,CAAEC,MAAM,CAAE,CAAEC,QAAQ,CAAE,CAAC,CAAEC,IAAI,CAAE,QAAS,CAAE,CAAE,CACxD,MAAM,MACN,OAAO,CAAE,yBAAMJ,UAAS,CAAC,CAACD,MAAM,CAAC,EAAC,CAClC,SAAS,CAAC,MAAM,wBAEhB,KAAC,MAAM,CAAC,GAAG,EAAC,MAAM,CAAC,UAAU,CAAC,GAAG,CAAEL,KAAM,CAAC,GAAG,CAAC,EAAE,EAAG,CAClDK,MAAM,eACL,MAAC,MAAM,CAAC,GAAG,EACT,OAAO,CAAE,CAAEM,OAAO,CAAE,CAAE,CAAE,CACxB,OAAO,CAAE,CAAEA,OAAO,CAAE,CAAE,CAAE,CACxB,UAAU,CAAE,CAAEF,QAAQ,CAAE,CAAE,CAAE,CAC5B,IAAI,CAAE,CAAEE,OAAO,CAAE,CAAE,CAAE,CACrB,SAAS,CAAC,QAAQ,wBAElB,aAAK,SAAS,CAAC,gCAAgC,wBAC7C,aAAK,SAAS,CAAC,WAAW,wBACxB,UAAG,SAAS,CAAC,sBAAsB,EAAK,IAAC,CAACZ,OAAO,GAC7C,cACN,aAAK,SAAS,CAAC,aAAa,wBAC1B,UAAG,SAAS,CAAC,cAAc,EAAK,CAC/BK,SAAS,GAAK,CAAC,CAAG,IAAI,CAAGA,SAAS,CAClCD,WAAW,GAAK,CAAC,CAChB,WAAW,cAEX,wBAAM,GAAC,CAACD,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEU,MAAM,CAAC,GAAC,GAC1B,GACG,GACF,cACN,aAAK,SAAS,CAAC,YAAY,wBACzB,KAAC,IAAI,EAAC,EAAE,kBAAYf,GAAG,CAAG,UAAEC,KAAK,EAAQ,cACzC,aAAM,cACN,wBAAM,GAAC,CAACG,KAAK,CAAC,aAAW,GAAO,cAChC,aAAM,cACN,KAAC,MAAM,EAAC,SAAS,CAAC,aAAa,uBAC7B,KAAC,IAAI,EAAC,EAAE,kBAAYJ,GAAG,CAAG,UAAC,UAAQ,EAAO,EACnC,GACL,GAET,GACU,EACT,CAEV,CAAC,CAED,cAAeF,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}